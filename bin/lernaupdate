#!/usr/bin/env node

const meow = require("meow");
const chalk = require("chalk");

const { input, flags } = meow(
  `
  Usage: lernaupdate <project-directory>

  Options:
    --dedupe, -d  List only dependencies that have a version conflict between one or more packages

  Examples:
    $ lernaupdate ./myproject --dedupe
`,
  {
    flags: {
      dedupe: {
        type: "boolean",
        alias: "d",
      },
    },
  }
);

require("../src/index.js")({ input, flags }).catch(err => {
  console.log(chalk`{red.bold An error occurred:}\n{bold ${err}}`);
  process.exit(1);
});
